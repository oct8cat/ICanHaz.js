(function(){var r=function(){function p(a){return String(a).replace(/&(?!\w+;)|[<>"']/g,function(a){return m[a]||a})}var c=Object.prototype.toString;Array.isArray=Array.isArray||function(a){return"[object Array]"==c.call(a)};var b=String.prototype.trim,e;if(b)e=function(a){return null==a?"":b.call(a)};else{var k,g;/\S/.test("\u00a0")?(k=/^[\s\xA0]+/,g=/[\s\xA0]+$/):(k=/^\s+/,g=/\s+$/);e=function(a){return null==a?"":a.toString().replace(k,"").replace(g,"")}}var m={"&":"&amp;","<":"&lt;",">":"&gt;",
'"':"&quot;","'":"&#39;"},n={},q=function(){};q.prototype={otag:"{{",ctag:"}}",pragmas:{},buffer:[],pragmas_implemented:{"IMPLICIT-ITERATOR":!0},context:{},render:function(a,f,d,h){h||(this.context=f,this.buffer=[]);if(this.includes("",a)){a=this.render_pragmas(a);var l=this.render_section(a,f,d);!1===l&&(l=this.render_tags(a,f,d,h));if(h)return l;this.sendLines(l)}else{if(h)return a;this.send(a)}},send:function(a){""!==a&&this.buffer.push(a)},sendLines:function(a){if(a){a=a.split("\n");for(var f=
0;f<a.length;f++)this.send(a[f])}},render_pragmas:function(a){if(!this.includes("%",a))return a;var f=this,d=this.getCachedRegex("render_pragmas",function(a,f){return new RegExp(a+"%([\\w-]+) ?([\\w]+=[\\w]+)?"+f,"g")});return a.replace(d,function(a,d,b){if(!f.pragmas_implemented[d])throw{message:"This implementation of mustache doesn't understand the '"+d+"' pragma"};f.pragmas[d]={};b&&(a=b.split("="),f.pragmas[d][a[0]]=a[1]);return""})},render_partial:function(a,f,d){a=e(a);if(!d||void 0===d[a])throw{message:"unknown_partial '"+
a+"'"};return f&&"object"==typeof f[a]?this.render(d[a],f[a],d,!0):this.render(d[a],f,d,!0)},render_section:function(a,f,d){if(!this.includes("#",a)&&!this.includes("^",a))return!1;var h=this,b=this.getCachedRegex("render_section",function(a,d){return new RegExp("^([\\s\\S]*?)"+a+"(\\^|\\#)\\s*(.+)\\s*"+d+"\n*([\\s\\S]*?)"+a+"\\/\\s*\\3\\s*"+d+"\\s*([\\s\\S]*)$","g")});return a.replace(b,function(a,b,l,c,g,e){a=b?h.render_tags(b,f,d,!0):"";e=e?h.render(e,f,d,!0):"";var k;c=h.find(c,f);"^"===l?k=!c||
Array.isArray(c)&&0===c.length?h.render(g,f,d,!0):"":"#"===l&&(k=Array.isArray(c)?h.map(c,function(a){return h.render(g,h.create_context(a),d,!0)}).join(""):h.is_object(c)?h.render(g,h.create_context(c),d,!0):"function"==typeof c?c.call(f,g,function(a){return h.render(a,f,d,!0)}):c?h.render(g,f,d,!0):"");return a+k+e})},render_tags:function(a,f,d,h){var b=this,c=function(){return b.getCachedRegex("render_tags",function(a,d){return new RegExp(a+"(=|!|>|&|\\{|%)?([^#\\^]+?)\\1?"+d+"+","g")})},g=c(),
e=function(a,h,e){switch(h){case "!":return"";case "=":return b.set_delimiters(e),g=c(),"";case ">":return b.render_partial(e,f,d);case "{":case "&":return b.find(e,f);default:return p(b.find(e,f))}};a=a.split("\n");for(var k=0;k<a.length;k++)a[k]=a[k].replace(g,e,this),h||this.send(a[k]);if(h)return a.join("\n")},set_delimiters:function(a){a=a.split(" ");this.otag=this.escape_regex(a[0]);this.ctag=this.escape_regex(a[1])},escape_regex:function(a){arguments.callee.sRE||(arguments.callee.sRE=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\)",
"g"));return a.replace(arguments.callee.sRE,"\\$1")},find:function(a,f){function d(a){return!1===a||0===a||a}a=e(a);var b;if(a.match(/([a-z_]+)\./ig)){var c=this.walk_context(a,f);d(c)&&(b=c)}else d(f[a])?b=f[a]:d(this.context[a])&&(b=this.context[a]);return"function"==typeof b?b.apply(f):void 0!==b?b:""},walk_context:function(a,b){for(var d=a.split("."),c=void 0!=b[d[0]]?b:this.context,e=c[d.shift()];void 0!=e&&0<d.length;)c=e,e=e[d.shift()];return"function"==typeof e?e.apply(c):e},includes:function(a,
b){return-1!=b.indexOf(this.otag+a)},create_context:function(a){if(this.is_object(a))return a;var b=".";this.pragmas["IMPLICIT-ITERATOR"]&&(b=this.pragmas["IMPLICIT-ITERATOR"].iterator);var d={};d[b]=a;return d},is_object:function(a){return a&&"object"==typeof a},map:function(a,b){if("function"==typeof a.map)return a.map(b);for(var d=[],c=a.length,e=0;e<c;e++)d.push(b(a[e]));return d},getCachedRegex:function(a,b){var d=n[this.otag];d||(d=n[this.otag]={});var c=d[this.ctag];c||(c=d[this.ctag]={});
(d=c[a])||(d=c[a]=b(this.otag,this.ctag));return d}};return{name:"mustache.js",version:"0.4.0",to_html:function(a,b,d,c){var e=new q;c&&(e.send=c);e.render(a,b||{},d);if(!c)return e.buffer.join("\n")}}}();(function(){function p(b){return"".trim?b.trim():b.replace(/^\s+/,"").replace(/\s+$/,"")}var c={VERSION:"0.10.2",templates:{},$:"undefined"!==typeof window?window.jQuery||window.Zepto||null:null,addTemplate:function(b,e){if("object"===typeof b)for(var k in b)this.addTemplate(k,b[k]);else c[b]?console.error("Invalid name: "+
b+"."):c.templates[b]?console.error('Template "'+b+'  " exists'):(c.templates[b]=e,c[b]=function(e,k){e=e||{};var n=r.to_html(c.templates[b],e,c.templates);return c.$&&!k?c.$(p(n)):n})},clearAll:function(){for(var b in c.templates)delete c[b];c.templates={}},refresh:function(){c.clearAll();c.grabTemplates()},grabTemplates:function(){var b,e;b=Array.prototype.slice;e=document.getElementsByTagName.bind(document);var k=b.apply(e("script")).concat(b.apply(e("template"))),g,m=[];b=0;for(e=k.length;b<e;b++)(g=
k[b])&&g.innerHTML&&g.id&&("text/html"===g.type||"text/x-icanhaz"===g.type||g.content)&&(c.addTemplate(g.id,p(g.innerHTML)),m.unshift(g));b=0;for(e=m.length;b<e;b++)m[b].parentNode.removeChild(m[b])}};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=c),exports.ich=c):this.ich=c;"undefined"!==typeof document&&(c.$?c.$(function(){c.grabTemplates()}):document.addEventListener("DOMContentLoaded",function(){c.grabTemplates()},!0))})()})();
